from bs4 import BeautifulSoup
import re


def remove_duplicate_newlines(string):
    return re.sub(r'\n{1,}', r'', string)


def remove_double_spaces(string):
    return re.sub(r' {2,}', r' ', string)


def split_elements(lst):
    new_list = []
    for element in lst:
        new_elements = [e.strip() for e in element.split('\n')]
        new_list.extend(new_elements)
    return new_list


def extract_texts_from_html(html):
    soup = BeautifulSoup(html, 'html.parser')
    displayed_texts = []
    content = soup.find("body")

    for element in content.find_all(['p', 'h1', 'h2', 'b', 'em', 'li', 'div', 'i', 'u', 'ol', 'ul', 'q', 'span', 'header']):
        if not element.find_all(recursive=False):
            displayed_texts.append(remove_duplicate_newlines(element.get_text()))

    displayed_texts = split_elements(displayed_texts)
    return remove_double_spaces(' '.join(displayed_texts))


test = "<html><body><noscript><iframe/></noscript><div><div><div/></div><div><a><i/><span>Home</span></a><a><i/><span>Career</span></a></div><link/><div><div><div><h2>GET<span>1000$</span>TO DIGITIZE YOUR IDEA</h2><p>The discount can be applied in case of cooperation for one month or more</p></div><div><form/></div><div><div>Skip</div></div></div></div><div><div><div><h1>Senior Java server-side Dev with Chronicle/Aeron experience</h1><div><p>Global Payments Hub. The platform is a groundbreaking wholesale marketplace for emerging markets FX and payments, offering real-time, executable pricing from leading global providers. Through collaborative efforts with banks, payment companies, and NGOs, the company seeks to overcome these inefficiencies and provide a comprehensive solution. With a focus on true price transparency, service variety, risk management, and advanced analytics, the platform aims to empower users to better serve their clients and communities. Positioned as the center-of-gravity for international payments, the platform brings together the world’s key players in emerging markets FX and payments to create a more efficient and transparent global financial landscape.</p></div><div><a>Apply now</a></div></div></div><div><div><h3>Anya Petrychenko</h3><h4>Recruitment Lead</h4><div><div><a>a.petrychenko@geniusee.com</a></div><div><a>+380 93 518 13 83</a></div><div><a>@AnnaAny</a></div></div><a>Apply now</a></div><div><div><h3>Requirements<span>.</span></h3><ul><li>5+ years experience in Core Java Skills;</li><li>Knowledge of Aeron or Chronicle services (must have);</li><li>Good knowledge of concurrency and multithreaded programming;</li><li>Experience in developing low-latency pricing and trading systems in a Linux environment;</li><li>Application performance profiling and optimization;</li><li>eFX development experience in a low latency, zero GC environment;</li><li>Development experience in one or more STP / OMS / Market Connectivity / Messaging / eFX Risk / Pricing;</li><li>Knowledge of institutional encodings (FIX, SBE);</li><li>Fault-tolerant, high availability, distributed computing;</li><li>Experience with Docker;</li><li>Experience with building event-driven systems using Aeron or Chronicle;</li><li>Technology stack includes: Java, Netty, Aeron, Chronicle, Prometheus, Grafana, Jenkins, MongoDB.</li></ul></div><div><h3>What you will get<span>.</span></h3><p><strong>Compensation</strong><br/>● Consistent pay with no delays. No matter what comes your way, a steady paycheck provides a foundation of flexibility.<br/>● Grow your career along with the salary. We believe your compensation should reflect your experience, skills and contributions — that’s why we conduct regular compensation reviews.<br/>● Your time is valuable. We compensate all the valuable time and expertise you invest in.<br/>● Share the talent &amp; get rewarded. The more successful hires that come from your referrals, the more referral bonuses you’ll earn — turn your network into extra income.<br/>● Balance, backed by benefits. Stay stress-free with our paid Reserve policy, knowing that your time off is both earned and protected.<br/><br/><strong>Benefits</strong><br/>● Rewarding your hard work. We support your adventures and quality time with 18 working days of vacation, plus special emergency days, and an extra day for employees after 3 &amp; 5 years of work.<br/>● Health first. 15 days of paid sick leave to look after your physical and mental health.<br/>● Wellness, tailored to you. We provide insurance or compensation for your health-related activities within our health and wellness system.<br/>● Future-ready fluency: we offer corporate English classes designed to meet your individual goals and preferences.<br/>● Take time for yourself. Get the break you deserve with the days off for official holidays!<br/>● Seamless management. Get your days off easier and quicker with our ERP System. Review and take a day off with a few clicks of a button.<br/>● Celebrating your milestones. Whether it’s your birthday, work anniversary, the birth of a child, or a special holiday — we cherish these occasions by presenting you with a heartfelt gift.<br/>● Make your workday flexible. Enjoy our hybrid work schedule and get the freedom to find the right balance for you.<br/>● “We’ve got you covered. Our offices in Kyiv and Lviv are equipped with a backup Internet line, starter lines, powerful batteries, and generators to ensure uninterrupted workflow. (Offices). We also compensate for your home equipment and coworking expenses for your stable work outside the office.”<br/><br/><strong>Career</strong><br/>● Let’s drive innovation with shared insights. We understand that knowledge is power, and that’s why we empower our teams to unlock their full potential by sharing their expertise with others — internally and externally.<br/>● Certify your success. With our ISTQB and Amazon partnership, we provide you with guidance and resources to achieve professional certifications in your field.<br/>● Your growth, our focus. Having a clear vision for your career path is a must. With us, you get reasoning goals, a regular insightful feedback within our performance review system.<br/>● Investing in your knowledge. We care about your professional growth. Get compensated for certifications and training programs that will bring skills to the next level.<br/>● Guiding your ambitions. Forget about career plateau — we offer a clear career road map and development plan. Let’s grow together!<br/><br/><strong>Culture</strong><br/>● Memorable times together. Discover the joy of team building with our specially designed corporate events and project fun activities.<br/>● Openness in the progress. Stay updated on the company’s latest achievements with our regular updates from the top-level management.<br/><br/><strong>Unique</strong><br/>● Embrace teamwork in a friendly environment. By joining us, you will experience the benefits of working in a close-knit, inviting atmosphere where your efforts are recognized, and your progress is fostered.<br/>● National heart, global impact. Our company runs its own charity fund that provides ongoing support for the Ukrainian army. Let’s become a part of something bigger together.</p></div><div><h3>Your Geniusee Career Growth:</h3><ul><li><strong>360-degree feedback</strong><p>A process through which feedback from an employee’s subordinates, colleagues, and supervisor, as well as a self-evaluation by the employee themselves, is gathered.</p></li><li><strong>Evaluation</strong><p>Time to talk with an expert. Together, you will assess the progress you have achieved.</p></li><li><strong>Navigation</strong></li><li>Summarize your review with a manager and define your future goals.</li></ul></div></div></div></div><div><p>Please be informed that the data administrator is Geniusee LLC with headquarter at BC Y4, Yaroslavsky Lane 4, 04071, Kyiv, Ukraine. Processing of personal data is carried out in accordance with the Law of Ukraine \"On Protection of Personal Data\" dated 01.06.2010 No. 2297-VI. You have the right to request access to your personal data, their release, removal or restriction of admission, the right to make a warning against admission, as well as the right to transfer the data and to make arrangements. The submission of data is voluntary and this personal data is processed in order to manage candidate applications and recruitment (selection process, interview follow-up, your job alerts management). Refusal to provide these obligations may result in a lack of opportunity to conduct the recruitment process.</p><p>Candidate personal data is addressed to Geniusee and is available to our recruitment teams, our employees involved in the recruitment process, our HR teams, and our IT teams which administrate our tools. As a part of our recruitment process evaluation, some of your data (name, surname, email address) may be used in charge of organizing events during which we may invite certain candidates.</p></div><div><div><h3>Apply here:</h3><form><h5>Attach CV File (.pdf, .doc, .docx)</h5><div><h5>Drag and Drop here<br/>or<br/><span>Browse files</span></h5></div><div><label>I agree that my personal information will be processed and stored by Geniusee.</label></div></form></div></div><section><div><div><div><h2>Let's talk!</h2><form><fieldset><div><label/></div><div><div><label/></div><div><label/></div></div><div><div><details><summary>Industry*</summary><div><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/><label/></div></details></div><div><details><summary>Expected Budget*</summary><div><label/><label/><label/><label/><label/></div></details></div></div><div><label><textarea/><p>This site is protected by reCAPTCHA and the Google<a>Privacy Policy</a><a>Terms of Service</a></p></label></div></fieldset><div><label>I agree that my personal information will be processed and stored by Geniusee.</label></div></form></div><div><lottie-player/><div><span>Thanks!</span><span>We will contact you soon.</span></div></div></div><div><div><div><h3>Taras Tymoshchuk<span>,</span><span>CEO</span></h3></div><div><div><a>info@geniusee.com</a></div><div><a>+1 512 333 1220</a></div><div><a>taras.tymoshchuk</a></div><div><a>Taras Tymoshchuk</a></div></div></div></div></div><div><a><div><span>Middletown</span></div><p>651 N Broad St, Suite 206,<br/>Middletown, DE 19709, USA</p></a><a><div><span>Warsaw</span></div><p>Ul. Adama Branickiego 21/U3,<br/>Warsaw 02-972, Poland</p></a><a><div><span>Kyiv</span></div><p>BC Y4, Yaroslavs'kyi Lane 4,<br/>Kyiv 04071, Ukraine</p></a><a><div><span>Lviv</span></div><p>BC Technopark, Fedkovycha St<br/>60a, Lviv 79000, Ukraine</p></a></div></section><noscript/></div></body></html>"
print(extract_texts_from_html(test))